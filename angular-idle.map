{"version":3,"file":"angular-idle.min.js","sources":["angular-idle.js"],"names":["window","angular","undefined","module","provider","options","http","interval","this","value","Error","isString","url","method","cache","setInterval","seconds","parseInt","isNaN","$get","$rootScope","$log","$interval","$http","handleResponse","data","status","$broadcast","ping","isObject","success","error","state","_options","start","cancel","stop","idles","default","idle","timeoutTrigger","timeout","autoResume","interrupt","keepalive","setTimeout","isNumber","events","getIdleOption","eventName","create","option","setIdle","idleOptionKey","hasOwnProperty","enabled","$document","Keepalive","LocalStorage","$window","startKeepalive","running","stopKeepalive","isEmptyObject","obj","Object","getOwnPropertyNames","length","key","toggleState","idleName","name","idling","countdown","intervalPromise","cancelAllIntervalls","changeOption","self","fn","reset","unwatch","watch","getExpiry","get","time","Date","setExpiry","date","set","id","remove","startIdleIntervalls","getTime","svc","_getNow","getIdle","getTimeout","isExpired","expiry","noExpiryUpdate","find","on","event","type","originalEvent","movementX","movementY","isUndefined","wrap","newValue","oldValue","val","fromJson","addEventListener","attachEvent","directive","Idle","restrict","scope","link","$scope","$on","e","$evalAsync","padLeft","nr","n","str","Array","String","join","setEnabled","$interpolate","original","timedout","isEnabled","store","overwrite","title","idleMessage","timedOutMessage","setAsIdle","remaining","totalSeconds","minutes","Math","floor","setAsTimedOut","restore","Title","$element","$attr","idleDisabled","innerText","storageGetter","$injector","localStorage","setStorageGetter","getterFunction","service","IdleStorageAccessor","AlternativeStorage","storageMap","setItem","getItem","removeItem","getStorage","s","err","storage","toJson","_wrapped"],"mappings":"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"}